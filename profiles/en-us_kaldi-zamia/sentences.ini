[Defs]
# This is not an actual intent. Instead it's just a collection of useful things.

# Names
name = (Chris | Matt | Wendy | Julia){name}

# Rules
pron = (Her, Him, Them)
pgenderp = (men | women | boys | girls | male | female)
abspos   = (left | right) most
relpos  = (at the (left | right) of | on top of | above | behind | under)
garbage = (litter | garbage | trash | waste | debris | junk)
luggage = (bag | baggage | valise | suitcase | trolley)
taxi    = (taxi | cab | uber)
door    = (front | back | main | rear) (entrance | door)

# Verbs
vbtakeout   = (take out | dump)
vbclean     = (clean out | clean up | tidy up | neaten | order)
vbserve     = (serve | arrange | deliver | distribute | give | provide)
vbmeet      = (contact | face | find | greet)
vbfollow    = follow

vbbtake   = bring | take
vbplace   = put | place
vbbring   = bring | give
vbdeliver = $vbbring | deliver
vbtake    = get | grasp | take | pick up
vbspeak   = tell | say
vbgopl    = go | navigate
vbgor     = $vbgopl | enter
vbfind    = find | locate | look for
vbguide   = guide | escort | take | lead | accompany
vbfollow  = follow

# Places
beacon = (entrance | bed | desk | dining table | exit | couch | end table | bookcase | sink | dishwasher)
room = (corridor | bedroom | dining room | living room | kitchen)

# Define an object type
# TODO: wilcards for object
object   = {object} | bowl | cloth | tray

# Rule for finding a specific (named) person
pgenders = (man | woman | boy | girl | male person | female person)
pose     = (sitting | standing | lying down)

findp    = <vbfind> a <pgenders>
findp    = <vbfind> a person {gesture}
findp    = <vbfind> a person <pose>

# A named or described person in the given place
whowhere = the person {gesture} in the {room}

# more rules...

# People
$someone  = me | $whowhere

# Place an object
$place    = $vbplace it on the {placement 2}

# Object properties
$oprop    = biggest | largest | smallest | heaviest | lightest | thinnest

# Navigating
$goplace  = $vbgopl to the {placement 1}
$gobeacon = $vbgopl to the {beacon 1}
$goroom   = $vbgopl to the {room 1}

# Take an object
$take     = $vbtake the $object
$takefrom = $take from the {placement 1}

# Deliver an object
$delivme  = $vbdeliver it to me
$delivto  = $vbdeliver it to {name}
$delivat  = $vbdeliver it to {name} at the {beacon}

# Speak
$talk     = $answer | $speak
$answer   = answer a {question}
$speak    = $vbspeak $whattosay

[FindObjects]

<Defs.vbfind> the {aobject?} in the {room}
Tell me how many {category} there are on the {placement}

# Todo: fix single quotes below:
Tell me what''s the <Defs.oprop> object on the {placement}
Tell me what''s the <Defs.oprop> {category} on the {placement}

<Defs.vbfind> the {category} in the {room}

# meta: Place at least 5 objects on the {placement 1}
tell me which are the three <Defs.oprop> (objects | {category}) on the {placement 1}

# meta: Place only 3 objects in the room
<Defs.vbfind> three {category} in the {room}

Tell me how many <Defs.object> there are on the {placement}
<Defs.vbfind> the <Defs.object> in the {room}

[ComplexManipulation]
# meta: Block access to {placement 2} with a movable object or furniture
cmancmd     = <Defs.vbbtake> the {kobject} to the {placement 2}
cmancmd     = <Defs.vbbring> me the <Defs.abspos> object <cmanobjsrc>
cmancmd     = <Defs.vbbring> me the object <Defs.relpos> the {object}  <cmanobjsrc>
cmancmd     = <Defs.vbbring> me the <Defs.oprop> (object | {category}) <cmanobjsrc>
# meta: Place 3 objects randomly, at least one on the floor.
cmancmd     = <Defs.vbclean> the {room}
cmancmd     = <Defs.vbtakeout> the $garbage
cmanobjsrc  = from the {placement 2 meta: Place at least 5 objects in the {placement 2}}

[Deliver]

deliver  = $vbbtake the {aobject} from the {room} to the {placement 2}
deliver  = $vbbring me the {aobject} from the {placement}
deliver  = $takefrom and ($delivme | $delivat)
deliver  = $takefrom and $place
deliver  = $vbbtake my $luggage to the $taxi
deliver  = $take and $vbplace it on the {placement 2}
deliver  = $takefrom and $vbplace it on the {placement 2}

deliver  = $vbplace the $object on the {placement 2}
deliver  = $vbbring me the $object
deliver  = $vbdeliver the $object to $someone
deliver  = $goplace, <Defs.vbfind> the $object, and ($delivme | $delivat)
deliver  = $goplace, <Defs.vbfind> the $object, and $place
object   = {object} | bowl | cloth | tray


[FindPeople]

fndppl   = Tell me the (name | gender | pose) of the person at the {beacon}
fndppl   = Tell me the (name | gender | pose) of the person in the {room}
fndppl   = tell me how many people in the {room} are ($pgenderp | $pose)

fndppl   = <talk> to <whowhere>
fndppl   = <findp> in the {room} and <talk>
fndppl   = <goroom>, <findp>, and <talk>
whowhere = the person {gesture} in the {room}

[FindPeople]
states = (name | gender | pose)
Tell me the <states>{attribute} of the person at the <Defs.beacon>{beacon}
Tell me the <states>{attribute} of the person in the <Defs.room>{room}
Tell me how many people in the <Defs.room>{room} are (<Defs.pgenderp> | <Defs.pose>){attribute2}

[Follow]

fllmeet  = meet {name 1} | find a person
fllwdest = (to the {room 2}) | $fllwhdst
fllwhdst = {void meta: Follow {name 1} to the {room 2}}
 
<Defs.vbfollow> <Defs.name> from the <Defs.beacon> to the <Defs.room>
Meet <Defs.name> at the <Defs.beacon> and <Defs.vbfollow> <Defs.pron> <Follow.fllwdest>
<Defs.gobeacon>, meet <Defs.name>, and <Defs.vbfollow> <Defs.pron> <fllwdest>

[Meet]
Meet <Defs.name> at the <Defs.beacon>, <Defs.vbfollow> <Defs.pron>, and <Defs.goroom>
Meet <Defs.name> at the <Defs.beacon>, <Defs.vbfollow> <Defs.pron>, and <Defs.vbguide> <Defs.pron> back


[IncompleteCommands]
$incomplete  = $vbfollow {name 1 meta: {name 1} is at the {beacon 1}}
$incomplete  = $cmanwarn $vbbring me the {object?}
$incomplete  = $vbdeliver {object?} to $someone
$incomplete  = $vbguide {name 1 meta: {name 1} is at the {beacon 1}} to the {beacon 2}
$incomplete  = meet $inguidewho and $vbguide {pron}
$incomplete  = $gobeacon, meet $inguidewho, and $vbguide {pron}

$inguidewho  = {name 1 meta: {name 1} must be taken from {beacon 1} to {beacon 2}, but he will get lost before reaching it}

[PartyHost]
phpeople    = everyone | (all the (people | men | women | guests | elders | children))
phpeopler   = <phpeople> in the <Defs.room>.
<Defs.vbserve>{serve} (drinks | snacks){food} to <Defs.phpeopler>{people}
<Defs.vbmeet>{meet} <Defs.name> at the <Defs.door>{door} and introduce <Defs.pron>{pron} to $phpeopler
<Defs.vbmeet>{meet} <Defs.name> at the <Defs.beacon>{beacon} and ask <Defs.pron>{pron} to leave
<Defs.vbmeet>{vbmeet} <Defs.name> at the <Defs.beacon>{beacon} and introduce <Defs.pron>{pron} to <Defs.name>{name} at the <beacon>{beacon}
<Defs.vbmeet>{vbmeet} <Defs.name> at the <Defs.beacon>{beacon} and <Defs.vbguide>{guide} <Defs.pron>{pron} to {pron pos} $taxi


[Guide]
guideto  = $vbguide <Defs.pron> to the <Defs.beacon>
gdwhere  = you (may | can | will) find <Defs.pron> at the <Defs.beacon>
<Defs.vbguide> <Defs.name> from the <Defs.beacon> to the <Defs.beacon>
meet <Defs.name> at the <Defs.beacon> and <guideto>
<Defs.gobeacon>, meet <Defs.name>, and <guideto>
<Defs.vbguide> <Defs.name> to the <Defs.beacon>, <gdwhere>

[WhatToSay]
$whattosay = something about yourself
$whattosay = the time
$whattosay = what day is (today | tomorrow)
# todo: fix quote
$whattosay = your team''s (name | country | affiliation)
$whattosay = the day of the (week | month)
$whattosay = a joke